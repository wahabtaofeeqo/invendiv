<div
  class="w-[300px] bg-white shadow-lg rounded-lg p-4 fixed top-24 right-8 z-50"
>
  <!-- Cart Header -->
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-lg font-bold text-purple-700">Your Cart</h2>
    <button class="text-red-500 hover:text-red-700 text-sm font-medium">
      Clear
    </button>
  </div>

  <!-- Cart Items -->
  <div
    class="space-y-4 max-h-[200px] overflow-y-auto"
    style="scrollbar-width: none"
  >
    @for (item of items; track $index) {
    <div
      class="flex items-center justify-between border-b border-b-gray-200 pb-2"
    >
      <div class="flex items-center space-x-2">
        <img
          src="https://images.unsplash.com/photo-1617854818583-09e7f077a156?w=100"
          alt="Product Image"
          class="w-12 h-12 rounded object-cover"
        />
        <div>
          <p class="font-semibold text-sm">{{ item.product.name }}</p>
          <p class="text-xs text-gray-500">₦{{ item.product.price }}</p>
          <div class="flex items-center mt-1 space-x-2">
            <button
              class="w-6 h-6 bg-purple-500 text-white rounded hover:bg-purple-700"
              (click)="decItem(item)"
            >
              -
            </button>
            <span class="text-sm">{{ item.total }}</span>
            <button
              class="w-6 h-6 bg-purple-500 text-white rounded hover:bg-purple-700"
              (click)="incItem(item)"
            >
              +
            </button>
          </div>
        </div>
      </div>
      <button
        class="text-red-500 hover:text-red-700 text-xs"
        (click)="removeItem(item)"
      >
        Delete
      </button>
    </div>
    }
  </div>

  <!-- Cart Footer -->
  <div class="pt-4 mt-8">
    <!-- Discount Code -->
    <div class="my-4">
      <label
        class="block text-sm font-medium text-gray-700 mb-1"
        for="discount-code"
      >
        Discount Code
      </label>
      <div class="flex space-x-2">
        <input
          type="text"
          id="discount-code"
          placeholder="Enter code"
          #input
          class="w-full px-2 py-1 border border-gray-200 rounded text-sm focus:outline-none focus:ring-2 focus:ring-purple-200"
        />
        <button
          class="bg-purple-600 text-white text-sm px-3 py-1 rounded hover:bg-purple-700"
          (click)="applyDiscount(input.value); input.value = ''"
        >
          Apply
        </button>
      </div>
    </div>
    <div class="flex justify-between text-sm mb-2">
      <p>Subtotal</p>
      <p class="font-semibold">₦{{ amount }}</p>
    </div>
    <div class="flex justify-between text-sm mb-2">
      <p>Grand total</p>
      <p class="font-semibold">₦{{ grandTotal }}</p>
    </div>
    <button
      class="w-full bg-purple-600 hover:bg-purple-700 text-white py-2 rounded-lg text-sm"
    >
      Checkout
    </button>
  </div>
</div>
