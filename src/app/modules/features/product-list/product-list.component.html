<div class="flex">
  <div class="flex-1 bg-gray-50 text-gray-800 font-sans">
    <!-- Navbar -->
    <nav
      class="sticky top-0 z-50 bg-white shadow-md border-b border-purple-500"
    >
      <div
        class="container mx-auto flex items-center justify-between py-6 px-4 md:px-16"
      >
        <h1 class="text-2xl text-purple-700 font-bold tracking-wide">
          Invendiv
        </h1>

        <button
          class="relative flex items-center gap-2 text-sm font-semibold text-gray-700 hover:text-purple-600 transition cursor-pointer"
          (click)="showCart = !showCart"
        >
          <span class="relative">
            <svg
              class="w-6 h-6 text-purple-600"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.5 6h13a1 1 0 100-2h-12.3M7 13H5.4M16 16a2 2 0 100 4 2 2 0 000-4zm-8 0a2 2 0 100 4 2 2 0 000-4z"
              />
            </svg>
            <span
              class="absolute -top-2 -right-2 bg-purple-600 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full"
              >{{ cart.length }}</span
            >
          </span>
          Cart
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 md:px-16 py-12">
      <h2 class="text-3xl font-bold mb-8 text-gray-800">All Products</h2>

      <!-- Product Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Product Card -->

        @for (product of products; track $index) {
        <div
          class="bg-white border border-purple-100 rounded-lg shadow-sm hover:shadow-md transition duration-300 flex flex-col"
        >
          <img
            src="{{ product.image }}"
            alt="Chinese Bracelet"
            class="rounded-t-lg w-full h-60 object-cover"
          />
          <div class="flex flex-col flex-grow justify-between p-4">
            <div>
              <h3 class="text-lg font-semibold text-gray-700 mb-2">
                {{ product.name }}
              </h3>
              <p class="text-purple-700 font-bold text-md mb-4">
                â‚¦{{ product.price }}
              </p>
            </div>
            <button
              class="mt-auto bg-purple-600 text-white text-sm px-4 py-2 rounded-md hover:bg-purple-700 transition cursor-pointer"
              (click)="addItemToCart(product)"
            >
              Add to Cart
            </button>
          </div>
        </div>
        }
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-16">
      <div
        class="container mx-auto px-4 md:px-16 py-8 flex justify-center items-center text-sm text-gray-500"
      >
        &copy; 2025 Invendiv. All rights reserved.
      </div>
    </footer>
  </div>

  <cart *ngIf="showCart" [items]="cart"></cart>
</div>
